<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:javascript="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<title>Halaka Manager | Dashboard</title>
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
	<!-- Bootstrap 3.3.6 -->
	<link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.min.css"
	      th:href="@{~/lib/bootstrap/css/bootstrap.min.css}"/>
	<!-- Font Awesome -->
	<link rel="stylesheet" href="../lib/plugins/font-awesome/css/font-awesome.min.css"
	      th:href="@{~/lib/plugins/font-awesome/css/font-awesome.min.css}"/>
	<!-- Ionicons -->
	<link rel="stylesheet" href="../lib/plugins/Ionicons/css/ionicons.min.css"
	      th:href="@{~/lib/plugins/Ionicons/css/ionicons.min.css}"/>
	<!-- Theme style -->
	<link rel="stylesheet" href="../lib/dist/css/AdminLTE.min.css" th:href="@{~/lib/dist/css/AdminLTE.min.css}"/>
	<!-- AdminLTE Skins. Choose a skin from the css/skins
		 folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="../lib/dist/css/skins/skin-blue.min.css"
	      th:href="@{~/lib/dist/css/skins/skin-blue.min.css}"/>
	<!-- jvectormap -->
	<link rel="stylesheet" href="../lib/plugins/jvectormap/jquery-jvectormap-1.2.2.css"
	      th:href="@{~/lib/plugins/jvectormap/jquery-jvectormap-1.2.2.css}">
	<!-- Date Picker -->
	<link rel="stylesheet" href="../lib/plugins/datepicker/datepicker3.css"
	      th:href="@{~/lib/plugins/datepicker/datepicker3.css}">
	<!-- bootstrap wysihtml5 - text editor -->
	<link rel="stylesheet" href="../lib/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css"
	      th:href="@{~/lib/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css}"/>

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
	<!-- include header section from the layout file -->
	<div th:include="layout/header :: header"></div>
	<!-- Left side column. contains the logo and sidebar -->
	<!-- include sidebar nav section from the layout file -->
	<div th:include="layout/sidebarnav :: sidebarnav"></div>

	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<h1>
				Dashboard
				<small>Control panel</small>
			</h1>
			<ol class="breadcrumb">
				<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
				<li class="active">Dashboard</li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">
			<!-- Small boxes (Stat box) -->
			<div class="row">
				<div class="col-lg-3 col-xs-6">
					<!-- small box -->
					<div class="small-box bg-aqua">
						<div class="inner">
							<!-- get total no. of subjects from DB -->
							<h3 th:text="${application.activeActivitiesCount}">150</h3>

							<p>Activities</p>
						</div>
						<div class="icon">
							<i class="ion ion-bag"></i>
						</div>
						<!-- goes to list of activities page -->
						<a href="#" th:href="@{/admin/activities/activity}" class="small-box-footer">Add More <i
								class="fa fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
				<div class="col-lg-3 col-xs-6">
					<!-- small box -->
					<div class="small-box bg-green">
						<div class="inner">
							<!-- get percentage of certificates -->
							<h3><span th:text="${certifiedStudentsPercent}">53</span><sup style="font-size:
                                    20px">%
							</sup>
							</h3>

							<p>Certificates</p>
						</div>
						<div class="icon">
							<i class="ion ion-stats-bars"></i>
						</div>
						<!-- goes to schedules page -->
						<a href="/schedules" th:href="@{/admin/certificates}" class="small-box-footer">More info
							<i
									class="fa fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
				<div class="col-lg-3 col-xs-6">
					<!-- small box -->
					<div class="small-box bg-yellow">
						<div class="inner">
							<!-- get no. of waiting students at all -->
							<h3 th:text="${application.activeStudentsCount}">44</h3>

							<p>Students</p>
						</div>
						<div class="icon">
							<i class="ion ion-person-add"></i>
						</div>
						<!-- goes to list of students page -->
						<a href="#" th:href="@{/admin/students/student}" class="small-box-footer">Add More <i
								class="fa fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
				<div class="col-lg-3 col-xs-6">
					<!-- small box -->
					<div class="small-box bg-red">
						<div class="inner">
							<!-- get total no. of teachers from DB -->
							<h3 th:text="${application.activeTeachersCount}">65</h3>

							<p>Teachers</p>
						</div>
						<div class="icon">
							<i class="ion ion-android-person-add"></i>
						</div>
						<!-- goes to list of teachers page -->
						<a href="teachers" th:href="@{/admin/teachers/teacher}" class="small-box-footer">Add
						                                                                                 More <i
									class="fa fa-arrow-circle-right"></i></a>
					</div>
				</div>
				<!-- ./col -->
			</div>
			<!-- /.row -->

			<!-- Main row -->
			<!-- first row -->
			<div class="row">
				<div class="col-lg-12">
					<!-- Custom tabs (Charts with tabs)-->
					<div class="nav-tabs-custom">
						<!-- Tabs within a box -->
						<ul class="nav nav-tabs pull-right">
							<li class="active"><a href="#country-chart" data-toggle="tab">Country</a></li>
							<li><a href="#genderChart" data-toggle="tab">Gender</a></li>
							<li class="pull-left header"><i class="fa fa-inbox"></i> Students Chart</li>
						</ul>
						<div class="tab-content no-padding">
							<!-- Morris chart - Sales -->
							<div class="chart tab-pane active" id="country-chart"
							     style="position: relative; height: 300px; -webkit-tap-highlight-color: rgba(0,0,0,0);">
								<div class="chart">
									<canvas id="barChart" style="height: 300px; width: 550px; "></canvas>
								</div>

							</div>
							<div class="chart tab-pane" id="genderChart"
							     style="position: relative; height: 300px;">
								<div class="chart">
									<canvas id="genderPieChart" style="height: 187px; width: 374px;"
									        height="233"
									        width="467"></canvas>
								</div>
							</div>
						</div>
					</div>
					<!-- /.nav-tabs-custom -->
				</div>

			</div>
			<!-- /.first-row -->

			<!-- second row -->
			<div class="row">
				<!-- Left col -->
				<section class="col-lg-7 connectedSortable">

					<!-- Map box -->
					<div class="box box-solid bg-light-blue-gradient">
						<div class="box-header">
							<!-- tools box -->
							<div class="pull-right box-tools">
								<button type="button" class="btn btn-primary btn-sm daterange pull-right"
								        data-toggle="tooltip" title="Date range">
									<i class="fa fa-calendar"></i></button>
								<button type="button" class="btn btn-primary btn-sm pull-right"
								        data-widget="collapse"
								        data-toggle="tooltip" title="Collapse" style="margin-right: 5px;">
									<i class="fa fa-minus"></i></button>
							</div>
							<!-- /. tools -->

							<i class="fa fa-map-marker"></i>

							<h3 class="box-title">
								Worldwide Statistics
							</h3>
						</div>
						<div class="box-body">

							<div id="world-map" style="height: 250px; width: 100%;"><input type="hidden"
							                                                               id="visitorsData"
							                                                               name="visitorsData"
							                                                               value="${mapCounts}"/>
							</div>
						</div>
						<!-- /.box-body-->
						<div class="box-footer no-border">
							<div class="row">
								<div class="col-xs-4 text-center" style="border-right: 1px solid #f4f4f4">
									<div></div>
									<div class="knob-label">Studying</div>
								</div>
								<!-- ./col -->
								<div class="col-xs-4 text-center" style="border-right: 1px solid #f4f4f4">
									<div></div>
									<div class="knob-label">Waiting</div>
								</div>
								<!-- ./col -->
								<div class="col-xs-4 text-center">
									<div></div>
									<div class="knob-label">Certified</div>
								</div>
								<!-- ./col -->
							</div>
							<!-- /.row -->
						</div>
					</div>
					<!-- /.box -->

					<!-- Chat box -->
					<div class="box box-success">
						<div class="box-header">
							<i class="fa fa-comments-o"></i>

							<h3 class="box-title">Chat</h3>

							<div class="box-tools pull-right" data-toggle="tooltip" title="Status">
								<div class="btn-group" data-toggle="btn-toggle">
									<button type="button" id="button_online"
									        th:classappend="(${#httpSession.getAttribute('user')?.status})? ' active'"
									        class="btn btn-default btn-sm"><i
											class="fa fa-square text-green"></i>
									</button>
									<button type="button" id="button_offline"
									        th:classappend="!(${#httpSession.getAttribute('user')?.status})? ' active'"
									        class="btn btn-default btn-sm"><i
											class="fa fa-square text-red"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="box-body chat" id="chat-box">
							<!-- chat item -->
							<div class="item">
								<img src="../lib/dist/img/user/user4-128x128.jpg"
								     th:src="@{/lib/dist/img/user/user4-128x128.jpg}" alt="user image"
								     class="online"/>

								<p class="message">
									<a href="#" class="name">
										<small class="text-muted pull-right"><i class="fa fa-clock-o"></i> 2:15
										</small>
										<span>Mike Doe</span>
									</a>
									I would like to meet you to discuss the latest news about
									the arrival of the new theme. They say it is going to be one the
									best themes on the market
								</p>
								<div class="attachment">
									<h4>Attachments:</h4>

									<p class="filename">
										Theme-thumbnail-image.jpg
									</p>

									<div class="pull-right">
										<button type="button" class="btn btn-primary btn-sm btn-flat">Open
										</button>
									</div>
								</div>
								<!-- /.attachment -->
							</div>
							<!-- /.item -->
							<!-- chat item -->
							<div class="item">
								<img src="../lib/dist/img/user/user3-128x128.jpg"
								     th:src="@{/lib/dist/img/user/user3-128x128.jpg}" alt="user image"
								     class="offline"/>

								<p class="message">
									<a href="#" class="name">
										<small class="text-muted pull-right"><i class="fa fa-clock-o"></i> 5:15
										</small>
										<span th:text="${session.userName}">Alexander Pierce</span>
									</a>
									I would like to meet you to discuss the latest news about
									the arrival of the new theme. They say it is going to be one the
									best themes on the market
								</p>
							</div>
							<!-- /.item -->
							<!-- chat item -->
							<div class="item">
								<img src="../lib/dist/img/user/user2-160x160.jpg"
								     th:src="@{/lib/dist/img/user/user2-160x160.jpg}" alt="user image"
								     class="offline"/>

								<p class="message">
									<a href="#" class="name">
										<small class="text-muted pull-right"><i class="fa fa-clock-o"></i> 5:30
										</small>
										Susan Doe
									</a>
									I would like to meet you to discuss the latest news about
									the arrival of the new theme. They say it is going to be one the
									best themes on the market
								</p>
							</div>
							<!-- /.item -->
						</div>
						<!-- /.chat -->
						<div class="box-footer">
							<div class="input-group">
								<input class="form-control" placeholder="Type message..."/>

								<div class="input-group-btn">
									<button type="button" class="btn btn-success"><i class="fa fa-plus"></i>
									</button>
								</div>
							</div>
						</div>
					</div>
					<!-- /.box (chat box) -->

					<!-- TO DO List -->
					<div class="box box-primary">
						<div class="box-header">
							<i class="ion ion-clipboard"></i>

							<h3 class="box-title">To Do List</h3>

							<div class="box-tools pull-right">
								<ul class="pagination pagination-sm inline">
									<li><a href="#">&laquo;</a></li>
									<li><a href="#">1</a></li>
									<li><a href="#">2</a></li>
									<li><a href="#">3</a></li>
									<li><a href="#">&raquo;</a></li>
								</ul>
							</div>
						</div>
						<!-- /.box-header -->
						<div class="box-body">
							<ul class="todo-list">
								<li>
									<!-- drag handle -->
									<span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                      </span>
									<!-- checkbox -->
									<input type="checkbox" value=""/>
									<!-- todo text -->
									<span class="text">Design a nice theme</span>
									<!-- Emphasis label -->
									<small class="label label-danger"><i class="fa fa-clock-o"></i> 2 mins
									</small>
									<!-- General tools such as edit or delete-->
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
								<li>
                      <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                      </span>
									<input type="checkbox" value=""/>
									<span class="text">Make the theme responsive</span>
									<small class="label label-info"><i class="fa fa-clock-o"></i> 4 hours
									</small>
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
								<li>
                      <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                      </span>
									<input type="checkbox" value=""/>
									<span class="text">Let theme shine like a star</span>
									<small class="label label-warning"><i class="fa fa-clock-o"></i> 1 day
									</small>
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
								<li>
                      <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                      </span>
									<input type="checkbox" value=""/>
									<span class="text">Let theme shine like a star</span>
									<small class="label label-success"><i class="fa fa-clock-o"></i> 3 days
									</small>
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
								<li>
                      <span class="handle">
                        <i class="fa fa-ellipsis-v"></i>
                        <i class="fa fa-ellipsis-v"></i>
                      </span>
									<input type="checkbox" value=""/>
									<span class="text">Check your messages and notifications</span>
									<small class="label label-primary"><i class="fa fa-clock-o"></i> 1 week
									</small>
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
								<li>
                                            <span class="handle">
                                                <i class="fa fa-ellipsis-v"></i>
                                                <i class="fa fa-ellipsis-v"></i>
                                            </span>
									<input type="checkbox" value=""/>
									<span class="text">Let theme shine like a star</span>
									<small class="label label-default"><i class="fa fa-clock-o"></i> 1 month
									</small>
									<div class="tools">
										<i class="fa fa-edit"></i>
										<i class="fa fa-trash-o"></i>
									</div>
								</li>
							</ul>
						</div>
						<!-- /.box-body -->
						<div class="box-footer clearfix no-border">
							<button type="button" data-toggle="modal" data-target="#add-task-modal"
							        class="btn btn-default pull-right"><i class="fa fa-plus"></i>
								Add item
							</button>
							<div id="add-task-modal" class="modal modal-primary">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
											        aria-label="Close">
												<span aria-hidden="true">×</span></button>
											<h4 class="modal-title">Create New Task</h4>
										</div>
										<div class="modal-body">
											<div class="box-primary">
												<div class="box-body">

													<form action="#" th:action="@{/admin/user/tasks/task}"
													      method="post" th:object="${task}">
														<input type="hidden" name="id" value="0"/>

														<div class="form-group">
															<label for="input-title"
															       class="col-sm-2 control-label">Title</label>

															<div class="col-sm-10">
																<input type="text" id="input-title"
																       class="form-control" placeholder="Title"
																       name="title" th:field="*{title}"/>
															</div>
														</div>

														<div class="form-group">
															<label class="col-sm-2 control-label">Due
															                                      Date</label>

															<div class="input-group col-sm-10">
																<div class="input-group-addon">
																	<i class="fa fa-clock-o"></i>
																</div>
																<input type="text"
																       class="form-control pull-right"
																       id="dueDate-daterangepicker"
																       th:field="*{dueDate}">
															</div>
														</div>
													</form>

												</div>
											</div>
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-outline pull-left"
											        data-dismiss="modal">Close
											</button>
											<button type="button" class="btn btn-outline">Save changes</button>
										</div>
									</div>
									<!-- /.modal-content -->
								</div>
								<!-- /.modal-dialog -->
							</div>
						</div>
					</div>
					<!-- /.box -->
				</section>
				<!-- /.Left col -->

				<!-- right col (We are only adding the ID to make the widgets sortable)-->
				<section class="col-lg-5 connectedSortable ui-sortable">

					<!-- solid sales graph -->
					<div class="box box-solid bg-teal-gradient">
						<div class="box-header">
							<i class="fa fa-th"></i>

							<h3 class="box-title">Housing Graph</h3>

							<div class="box-tools pull-right">
								<button type="button" class="btn bg-teal btn-sm" data-widget="collapse"><i
										class="fa fa-minus"></i>
								</button>
								<button type="button" class="btn bg-teal btn-sm" data-widget="remove"><i
										class="fa fa-times"></i>
								</button>
							</div>
						</div>
						<div class="box-body border-radius-none">
							<div class="chart" id="line-chart" style="height: 250px;"></div>
						</div>
						<!-- /.box-body -->
						<div class="box-footer no-border">
							<div class="row">
								<div class="col-xs-4 text-center" style="border-right: 1px solid #f4f4f4">
									<input type="text" class="knob" data-readonly="true"
									       th:value="${houseOccupied}"
									       data-width="60" data-height="60" data-fgColor="#39CCCC"/>

									<div class="knob-label">Total Occupied</div>
								</div>
								<!-- ./col -->
								<div class="col-xs-4 text-center" style="border-right: 1px solid #f4f4f4">
									<input type="text" class="knob" data-readonly="true" th:value="${houseFree}"
									       data-width="60" data-height="60" data-fgColor="#39CCCC"/>

									<div class="knob-label">Total Free</div>
								</div>
								<!-- ./col -->
								<div class="col-xs-4 text-center">
									<input type="text" class="knob" data-readonly="true"
									       th:value="${houseMaxCapacity}"
									       data-width="60" data-height="60" data-fgColor="#39CCCC"/>

									<div class="knob-label">Max Capacity</div>
								</div>
								<!-- ./col -->
							</div>
							<!-- /.row -->
						</div>
						<!-- /.box-footer -->
					</div>
					<div class="box box-default">
						<div class="box-header with-border">
							<h3 class="box-title">Browser Usage</h3>

							<div class="box-tools pull-right">
								<button type="button" class="btn btn-box-tool" data-widget="collapse"><i
										class="fa fa-minus"></i>
								</button>
								<button type="button" class="btn btn-box-tool" data-widget="remove"><i
										class="fa fa-times"></i></button>
							</div>
						</div>
						<!-- /.box-header -->
						<div class="box-body">
							<div class="row">
								<div class="col-md-8">
									<div class="chart-responsive">
										<canvas id="pieChart" height="202" width="657"
										        style="width: 526px; height: 162px;"></canvas>
									</div>
									<!-- ./chart-responsive -->
								</div>
								<!-- /.col -->
								<div class="col-md-4">
									<ul class="chart-legend clearfix" th:each="house : ${housesOccupy}">
										<li><i class="fa fa-circle-o text-red"></i> <span
												th:text="${house.name}"/></li>

									</ul>
								</div>
								<!-- /.col -->
							</div>
							<!-- /.row -->
						</div>
						<!-- /.box-body -->
						<div class="box-footer no-padding">
							<ul class="nav nav-pills nav-stacked">
								<li><a href="#">United States of America
									<span class="pull-right text-red"><i
											class="fa fa-angle-down"></i> 12%</span></a>
								</li>
								<li><a href="#">India <span class="pull-right text-green"><i
										class="fa fa-angle-up"></i> 4%</span></a>
								</li>
								<li><a href="#">China
									<span class="pull-right text-yellow"><i
											class="fa fa-angle-left"></i> 0%</span></a>
								</li>
							</ul>
						</div>
						<!-- /.footer -->
					</div>
					<!-- /.box -->

					<!-- Calendar -->
					<div class="box box-solid bg-green-gradient">
						<div class="box-header ui-sortable-handle" style="cursor: move;">
							<i class="fa fa-calendar"></i>

							<h3 class="box-title">Calendar</h3>
							<!-- tools box -->
							<div class="pull-right box-tools">
								<!-- button with a dropdown -->
								<div class="btn-group">
									<button type="button" class="btn btn-success btn-sm dropdown-toggle"
									        data-toggle="dropdown" aria-expanded="false">
										<i class="fa fa-bars"></i></button>
									<ul class="dropdown-menu pull-right" role="menu">
										<li><a href="#">Add new event</a></li>
										<li><a href="#">Clear events</a></li>
										<li class="divider"></li>
										<li><a href="#">View calendar</a></li>
									</ul>
								</div>
								<button type="button" class="btn btn-success btn-sm" data-widget="collapse"><i
										class="fa fa-minus"></i>
								</button>
								<button type="button" class="btn btn-success btn-sm" data-widget="remove"><i
										class="fa fa-times"></i>
								</button>
							</div>
							<!-- /. tools -->
						</div>
						<!-- /.box-header -->
						<div class="box-body no-padding" style="">
							<!--The calendar -->
							<div id="calendar" style="width: 100%">
								<div class="datepicker datepicker-inline">
									<div class="datepicker-days" style="">
										<table class="table-condensed">
											<thead>
												<tr>
													<th colspan="7" class="datepicker-title"
													    style="display: none;"></th>
												</tr>
												<tr>
													<th class="prev">«</th>
													<th colspan="5" class="datepicker-switch">June 2012</th>
													<th class="next">»</th>
												</tr>
												<tr>
													<th class="dow">Su</th>
													<th class="dow">Mo</th>
													<th class="dow">Tu</th>
													<th class="dow">We</th>
													<th class="dow">Th</th>
													<th class="dow">Fr</th>
													<th class="dow">Sa</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td class="old day" data-date="1338076800000">27</td>
													<td class="old day" data-date="1338163200000">28</td>
													<td class="old day" data-date="1338249600000">29</td>
													<td class="old day" data-date="1338336000000">30</td>
													<td class="old day" data-date="1338422400000">31</td>
													<td class="day" data-date="1338508800000">1</td>
													<td class="day" data-date="1338595200000">2</td>
												</tr>
												<tr>
													<td class="day" data-date="1338681600000">3</td>
													<td class="day" data-date="1338768000000">4</td>
													<td class="day" data-date="1338854400000">5</td>
													<td class="day" data-date="1338940800000">6</td>
													<td class="day" data-date="1339027200000">7</td>
													<td class="day" data-date="1339113600000">8</td>
													<td class="day" data-date="1339200000000">9</td>
												</tr>
												<tr>
													<td class="day" data-date="1339286400000">10</td>
													<td class="day" data-date="1339372800000">11</td>
													<td class="day" data-date="1339459200000">12</td>
													<td class="day" data-date="1339545600000">13</td>
													<td class="day" data-date="1339632000000">14</td>
													<td class="day" data-date="1339718400000">15</td>
													<td class="day" data-date="1339804800000">16</td>
												</tr>
												<tr>
													<td class="day" data-date="1339891200000">17</td>
													<td class="day" data-date="1339977600000">18</td>
													<td class="day" data-date="1340064000000">19</td>
													<td class="day" data-date="1340150400000">20</td>
													<td class="day" data-date="1340236800000">21</td>
													<td class="day" data-date="1340323200000">22</td>
													<td class="day" data-date="1340409600000">23</td>
												</tr>
												<tr>
													<td class="day" data-date="1340496000000">24</td>
													<td class="day" data-date="1340582400000">25</td>
													<td class="day" data-date="1340668800000">26</td>
													<td class="day" data-date="1340755200000">27</td>
													<td class="day" data-date="1340841600000">28</td>
													<td class="day" data-date="1340928000000">29</td>
													<td class="day" data-date="1341014400000">30</td>
												</tr>
												<tr>
													<td class="new day" data-date="1341100800000">1</td>
													<td class="new day" data-date="1341187200000">2</td>
													<td class="new day" data-date="1341273600000">3</td>
													<td class="new day" data-date="1341360000000">4</td>
													<td class="new day" data-date="1341446400000">5</td>
													<td class="new day" data-date="1341532800000">6</td>
													<td class="new day" data-date="1341619200000">7</td>
												</tr>
											</tbody>
											<tfoot>
												<tr>
													<th colspan="7" class="today" style="display: none;">Today</th>
												</tr>
												<tr>
													<th colspan="7" class="clear" style="display: none;">Clear</th>
												</tr>
											</tfoot>
										</table>
									</div>
									<div class="datepicker-months" style="display: none;">
										<table class="table-condensed">
											<thead>
												<tr>
													<th colspan="7" class="datepicker-title"
													    style="display: none;"></th>
												</tr>
												<tr>
													<th class="prev">«</th>
													<th colspan="5" class="datepicker-switch">2012</th>
													<th class="next">»</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td colspan="7"><span class="month">Jan</span><span class="month">Feb</span><span
															class="month">Mar</span><span class="month">Apr</span><span
															class="month">May</span><span
															class="month focused">Jun</span><span
															class="month">Jul</span><span class="month">Aug</span><span
															class="month">Sep</span><span class="month">Oct</span><span
															class="month">Nov</span><span class="month">Dec</span></td>
												</tr>
											</tbody>
											<tfoot>
												<tr>
													<th colspan="7" class="today" style="display: none;">Today</th>
												</tr>
												<tr>
													<th colspan="7" class="clear" style="display: none;">Clear</th>
												</tr>
											</tfoot>
										</table>
									</div>
									<div class="datepicker-years" style="display: none;">
										<table class="table-condensed">
											<thead>
												<tr>
													<th colspan="7" class="datepicker-title"
													    style="display: none;"></th>
												</tr>
												<tr>
													<th class="prev">«</th>
													<th colspan="5" class="datepicker-switch">2010-2019</th>
													<th class="next">»</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td colspan="7"><span class="year old">2009</span><span
															class="year">2010</span><span class="year">2011</span><span
															class="year focused">2012</span><span
															class="year">2013</span><span class="year">2014</span><span
															class="year">2015</span><span class="year">2016</span><span
															class="year">2017</span><span class="year">2018</span><span
															class="year">2019</span><span class="year new">2020</span>
													</td>
												</tr>
											</tbody>
											<tfoot>
												<tr>
													<th colspan="7" class="today" style="display: none;">Today</th>
												</tr>
												<tr>
													<th colspan="7" class="clear" style="display: none;">Clear</th>
												</tr>
											</tfoot>
										</table>
									</div>
									<div class="datepicker-decades" style="display: none;">
										<table class="table-condensed">
											<thead>
												<tr>
													<th colspan="7" class="datepicker-title"
													    style="display: none;"></th>
												</tr>
												<tr>
													<th class="prev">«</th>
													<th colspan="5" class="datepicker-switch">2000-2090</th>
													<th class="next">»</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td colspan="7"><span class="decade old">1990</span><span
															class="decade">2000</span><span
															class="decade focused">2010</span><span
															class="decade">2020</span><span
															class="decade">2030</span><span
															class="decade">2040</span><span
															class="decade">2050</span><span
															class="decade">2060</span><span
															class="decade">2070</span><span
															class="decade">2080</span><span
															class="decade">2090</span><span
															class="decade new">2100</span></td>
												</tr>
											</tbody>
											<tfoot>
												<tr>
													<th colspan="7" class="today" style="display: none;">Today</th>
												</tr>
												<tr>
													<th colspan="7" class="clear" style="display: none;">Clear</th>
												</tr>
											</tfoot>
										</table>
									</div>
									<div class="datepicker-centuries" style="display: none;">
										<table class="table-condensed">
											<thead>
												<tr>
													<th colspan="7" class="datepicker-title"
													    style="display: none;"></th>
												</tr>
												<tr>
													<th class="prev">«</th>
													<th colspan="5" class="datepicker-switch">2000-2900</th>
													<th class="next">»</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td colspan="7"><span class="century old">1900</span><span
															class="century focused">2000</span><span class="century">2100</span><span
															class="century">2200</span><span class="century">2300</span><span
															class="century">2400</span><span class="century">2500</span><span
															class="century">2600</span><span class="century">2700</span><span
															class="century">2800</span><span class="century">2900</span><span
															class="century new">3000</span></td>
												</tr>
											</tbody>
											<tfoot>
												<tr>
													<th colspan="7" class="today" style="display: none;">Today</th>
												</tr>
												<tr>
													<th colspan="7" class="clear" style="display: none;">Clear</th>
												</tr>
											</tfoot>
										</table>
									</div>
								</div>
							</div>
						</div>
						<!-- /.box-body -->
						<div class="box-footer text-black" style="">
							<div class="row">
								<div class="col-sm-6">
									<!-- Progress bars -->
									<div class="clearfix">
										<span class="pull-left">Task #1</span>
										<small class="pull-right">90%</small>
									</div>
									<div class="progress xs">
										<div class="progress-bar progress-bar-green" style="width: 90%;"></div>
									</div>

									<div class="clearfix">
										<span class="pull-left">Task #2</span>
										<small class="pull-right">70%</small>
									</div>
									<div class="progress xs">
										<div class="progress-bar progress-bar-green" style="width: 70%;"></div>
									</div>
								</div>
								<!-- /.col -->
								<div class="col-sm-6">
									<div class="clearfix">
										<span class="pull-left">Task #3</span>
										<small class="pull-right">60%</small>
									</div>
									<div class="progress xs">
										<div class="progress-bar progress-bar-green" style="width: 60%;"></div>
									</div>

									<div class="clearfix">
										<span class="pull-left">Task #4</span>
										<small class="pull-right">40%</small>
									</div>
									<div class="progress xs">
										<div class="progress-bar progress-bar-green" style="width: 40%;"></div>
									</div>
								</div>
								<!-- /.col -->
							</div>
							<!-- /.row -->
						</div>
					</div>
					<!-- /.box -->


				</section>
				<!-- right col -->
			</div>
			<!-- /.second-row -->

			<!-- third row -->
			<div class="row">
				<div class="col-lg-12">
					<!-- quick email widget -->
					<div class="box box-info">
						<div class="box-header">
							<i class="fa fa-envelope"></i>

							<h3 class="box-title">Quick Email</h3>
							<!-- tools box -->
							<div class="pull-right box-tools">
								<button type="button" class="btn btn-info btn-sm" data-widget="remove"
								        data-toggle="tooltip" title="Remove">
									<i class="fa fa-times"></i></button>
							</div>
							<!-- /. tools -->
						</div>
						<div class="box-body">
							<form action="#" method="post">
								<div class="form-group">
									<input type="email" class="form-control" name="emailto"
									       placeholder="Email to:"/>
								</div>
								<div class="form-group">
									<input type="text" class="form-control" name="subject"
									       placeholder="Subject"/>
								</div>
								<div>
                                    <textarea class="textarea" placeholder="Message"
                                              style="width: 100%; height: 125px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;"></textarea>
								</div>
							</form>
						</div>
						<div class="box-footer clearfix">
							<button type="button" class="pull-right btn btn-default" id="sendEmail">Send
								<i class="fa fa-arrow-circle-right"></i></button>
						</div>
					</div>
				</div>
			</div>
			<!-- /.third-row -->
			<!-- /.row (main row) -->

		</section>
		<!-- /.content -->
	</div>
	<!-- /.content-wrapper -->
	<!-- include footer section from the layout file -->
	<div th:include="layout/footer :: footer"></div>
	<!-- Control Sidebar -->
	<aside class="control-sidebar control-sidebar-dark">
		<!-- Create the tabs -->
		<ul class="nav nav-tabs nav-justified control-sidebar-tabs">
			<li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
			<li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<!-- Home tab content -->
			<div class="tab-pane" id="control-sidebar-home-tab">
				<h3 class="control-sidebar-heading">Recent Activity</h3>
				<ul class="control-sidebar-menu">
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-birthday-cake bg-red"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

								<p>Will be 23 on April 24th</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-user bg-yellow"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

								<p>New phone +1(800)555-1234</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

								<p>nora@example.com</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-file-code-o bg-green"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

								<p>Execution time 5 seconds</p>
							</div>
						</a>
					</li>
				</ul>
				<!-- /.control-sidebar-menu -->

				<h3 class="control-sidebar-heading">Tasks Progress</h3>
				<ul class="control-sidebar-menu">
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Custom Template Design
								<span class="label label-danger pull-right">70%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-danger" style="width: 70%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Update Resume
								<span class="label label-success pull-right">95%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-success" style="width: 95%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Laravel Integration
								<span class="label label-warning pull-right">50%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-warning" style="width: 50%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Back End Framework
								<span class="label label-primary pull-right">68%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-primary" style="width: 68%"></div>
							</div>
						</a>
					</li>
				</ul>
				<!-- /.control-sidebar-menu -->

			</div>
			<!-- /.tab-pane -->
			<!-- Stats tab content -->
			<div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
			<!-- /.tab-pane -->
			<!-- Settings tab content -->
			<div class="tab-pane" id="control-sidebar-settings-tab">
				<form method="post">
					<h3 class="control-sidebar-heading">General Settings</h3>

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Report panel usage
							<input type="checkbox" class="pull-right" checked="true"/>
						</label>

						<p>
							Some information about this general settings option
						</p>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Allow mail redirect
							<input type="checkbox" class="pull-right" checked="true"/>
						</label>

						<p>
							Other sets of options are available
						</p>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Expose author name in posts
							<input type="checkbox" class="pull-right" checked="true"/>
						</label>

						<p>
							Allow the user to show his name in blog posts
						</p>
					</div>
					<!-- /.form-group -->

					<h3 class="control-sidebar-heading">Chat Settings</h3>

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Show me as online
							<input type="checkbox" class="pull-right" checked="true"/>
						</label>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Turn off notifications
							<input type="checkbox" class="pull-right"/>
						</label>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Delete chat history
							<a href="javascript:void(0)" class="text-red pull-right"><i
									class="fa fa-trash-o"></i></a>
						</label>
					</div>
					<!-- /.form-group -->
				</form>
			</div>
			<!-- /.tab-pane -->
		</div>
	</aside>
	<!-- /.control-sidebar -->
	<!-- Add the sidebar's background. This div must be placed
		 immediately after the control sidebar -->
	<div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->

<!-- to send data from db to the map in javascript code -->
<script th:inline="javascript">
    //jvectormap data
    //the data come from HomeController in model object
    var visitorsData = [[${mapCounts}]];
    console.log("VistorsData: " + visitorsData);
    //PieChart data
    //data sent from HomeController in model object
    var houses = [[${housesOccupy}]];
    //array for various colors to use.
    var colors = ["#f56954", "#00a65a", "#f39c12", "#00c0ef", "#3c8dbc", "#d2d6de"];
    //empty array to filled later and to be used in dashboard.js file to fill piechart with data
    var PieData = [];
    //loop in list objects of houses
    for (var key in houses) {
        //get each house in a variable
        var house = houses[key];
        //add each house in the list to the pieData array.
        PieData.push(
            {
                value: house["students"].size(), //get the value of occupied field
                color: colors[key],       //get a color from colors array
                highlight: colors[key],   //get a color from colors array
                label: house["name"]      //get the name value of name filed
            }
        );
    }

    var countryStudentsChart = [[${countryStudentsChart}]];
    console.log(countryStudentsChart);

    var countriesLabels = [];
    var malesValues = [];
    var femalesValues = [];

    for (var country in countryStudentsChart) {
        countriesLabels.push(country);
        var student = countryStudentsChart[country];
        console.log(student);
        console.log("Country: " + country + ", has males= " + student['MALE'] + ", and females= " + student['FEMALE']);
        malesValues.push(student['MALE']);
        femalesValues.push(student['FEMALE']);
    }
    console.log("Labels: " + countriesLabels);
    console.log("Males Counts: " + malesValues);
    console.log("Females Counts: " + femalesValues);

</script>

<!-- jQuery 2.2.3 -->
<script src="../../lib/plugins/jQuery/jquery-2.2.3.min.js"
        th:src="@{~/lib/plugins/jQuery/jquery-2.2.3.min.js}"></script>
<!-- Bootstrap 3.3.6 -->
<script src="../../lib/bootstrap/js/bootstrap.min.js" th:src="@{~/lib/bootstrap/js/bootstrap.min.js}"></script>
<!-- jvectormap -->
<script src="../lib/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"
        th:src="@{~/lib/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js}"></script>
<script src="../lib/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"
        th:src="@{~/lib/plugins/jvectormap/jquery-jvectormap-world-mill-en.js}"></script>
<!-- Sparkline -->
<script src="../lib/plugins/sparkline/jquery.sparkline.min.js"
        th:src="@{~/lib/plugins/sparkline/jquery.sparkline.min.js}"></script>
<!-- jQuery Knob Chart -->
<script src="../lib/plugins/knob/jquery.knob.js" th:src="@{~/lib/plugins/knob/jquery.knob.js}"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="../lib/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"
        th:src="@{~/lib/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js}"></script>
<!-- Slimscroll -->
<script src="../lib/plugins/slimScroll/jquery.slimscroll.min.js"
        th:src="@{~/lib/plugins/slimScroll/jquery.slimscroll.min.js}"></script>
<!-- FastClick -->
<script src="../lib/plugins/fastclick/fastclick.js" th:src="@{~/lib/plugins/fastclick/fastclick.js}"></script>
<!-- Morris.js charts -->
<script src="../lib/plugins/raphael/raphael.min.js" th:src="@{~/lib/plugins/raphael/raphael.min.js}"></script>
<script src="../lib/plugins/morris/morris.min.js" th:src="@{~/lib/plugins/morris/morris.min.js}"></script>
<!-- Date Picker -->
<script src="../lib/plugins/datepicker/bootstrap-datepicker.js"
        th:src="@{~/lib/plugins/datepicker/bootstrap-datepicker.js}"></script>

<script src="../lib/plugins/chartjs/Chart.min.js" th:src="@{~/lib/plugins/chartjs/Chart.min.js}"></script>

<!-- AdminLTE App -->
<script src="../lib/dist/js/app.min.js" th:src="@{~/lib/dist/js/app.min.js}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<!-- use home file instead of dashboard to reduce load time -->
<script src="../lib/dist/js/pages/home.js" th:src="@{~/lib/dist/js/pages/home.js}"></script>

<script>
    //Variable to save new status of the user
    var user_status;
    //assign update status of the user to the click event of the button_online
    $('#button_online').click(function (e) {
        user_status = 'online';
        updateStatus(userEmail, user_status);
    });
    //assign update status of the user to the click event of the button_offline
    $('#button_offline').click(function (event) {
        user_status = 'offline';
        updateStatus(userEmail, user_status);
    });

    function updateStatus(uEmail, newStatus) {
        $.ajax({
            url: "/admin/user/updateStatus",
            type: "GET",
            data: {
                email: uEmail,
                userStatus: newStatus
            },
            dataType: "html",
            success: function (data) {
                location.reload();
            }
        });
    }

    var areaChartData = {
        labels: countriesLabels,
        datasets: [
            {
                label: "Males",
                fillColor: "rgba(210, 214, 222, 1)",
                strokeColor: "rgba(210, 214, 222, 1)",
                pointColor: "rgba(210, 214, 222, 1)",
                pointStrokeColor: "#c1c7d1",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data: malesValues
            },
            {
                label: "Females",
                fillColor: "rgba(60,141,188,0.9)",
                strokeColor: "rgba(60,141,188,0.8)",
                pointColor: "#3b8bba",
                pointStrokeColor: "rgba(60,141,188,1)",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(60,141,188,1)",
                data: femalesValues
            }
        ]
    };

    //-------------
    //- BAR CHART -
    //-------------
    var barChartCanvas = $("#barChart").get(0).getContext("2d");
    var barChart = new Chart(barChartCanvas);
    var barChartData = areaChartData;
    barChartData.datasets[1].fillColor = "#00a65a";
    barChartData.datasets[1].strokeColor = "#00a65a";
    barChartData.datasets[1].pointColor = "#00a65a";
    var barChartOptions = {
        //Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value
        scaleBeginAtZero: true,
        //Boolean - Whether grid lines are shown across the chart
        scaleShowGridLines: true,
        //String - Colour of the grid lines
        scaleGridLineColor: "rgba(0,0,0,.05)",
        //Number - Width of the grid lines
        scaleGridLineWidth: 1,
        //Boolean - Whether to show horizontal lines (except X axis)
        scaleShowHorizontalLines: true,
        //Boolean - Whether to show vertical lines (except Y axis)
        scaleShowVerticalLines: true,
        //Boolean - If there is a stroke on each bar
        barShowStroke: true,
        //Number - Pixel width of the bar stroke
        barStrokeWidth: 2,
        //Number - Spacing between each of the X value sets
        barValueSpacing: 5,
        //Number - Spacing between data sets within X values
        barDatasetSpacing: 1,
        //String - A legend template
        legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",
        //Boolean - whether to make the chart responsive
        responsive: true,
        maintainAspectRatio: true
    };

    barChartOptions.datasetFill = false;
    barChart.Bar(barChartData, barChartOptions);


</script>
<div class="daterangepicker dropdown-menu ltr opensleft">
	<div class="calendar left">
		<div class="daterangepicker_input"><input class="input-mini form-control" type="text"
		                                          name="daterangepicker_start" value=""><i
				class="fa fa-calendar glyphicon glyphicon-calendar"></i>
			<div class="calendar-time" style="display: none;">
				<div></div>
				<i class="fa fa-clock-o glyphicon glyphicon-time"></i></div>
		</div>
		<div class="calendar-table"></div>
	</div>
	<div class="calendar right">
		<div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end"
		                                          value=""><i class="fa fa-calendar glyphicon glyphicon-calendar"></i>
			<div class="calendar-time" style="display: none;">
				<div></div>
				<i class="fa fa-clock-o glyphicon glyphicon-time"></i></div>
		</div>
		<div class="calendar-table"></div>
	</div>
	<div class="ranges">
		<ul>
			<li data-range-key="Today">Today</li>
			<li data-range-key="Yesterday">Yesterday</li>
			<li data-range-key="Last 7 Days">Last 7 Days</li>
			<li data-range-key="Last 30 Days">Last 30 Days</li>
			<li data-range-key="This Month">This Month</li>
			<li data-range-key="Last Month">Last Month</li>
			<li data-range-key="Custom Range">Custom Range</li>
		</ul>
		<div class="range_inputs">
			<button class="applyBtn btn btn-sm btn-success" disabled="disabled" type="button">Apply</button>
			<button class="cancelBtn btn btn-sm btn-default" type="button">Cancel</button>
		</div>
	</div>
</div>
</body>
</html>
