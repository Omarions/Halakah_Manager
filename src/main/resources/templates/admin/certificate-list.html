<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:javascript="http://www.w3.org/1999/xhtml"
      xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<title>Halaka Manager | Dashboard</title>
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>

	<!-- Bootstrap 3.3.7 -->
	<link rel="stylesheet" href="../../static/lib/bootstrap/css/bootstrap.min.css"
	      th:href="@{~/lib/bootstrap/css/bootstrap.min.css}"/>
	<!-- google fonts -->
	<link rel="stylesheet"
	      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="../../static/lib/plugins/font-awesome/css/font-awesome.min.css"
	      th:href="@{~/lib/plugins/font-awesome/css/font-awesome.min.css}"/>
	<!-- Ionicons -->
	<link rel="stylesheet" href="../../static/lib/plugins/Ionicons/css/ionicons.min.css"
	      th:href="@{~/lib/plugins/Ionicons/css/ionicons.min.css}"/>
	<!-- Theme style -->
	<link rel="stylesheet" href="../../static/lib/dist/css/AdminLTE.min.css"
	      th:href="@{~/lib/dist/css/AdminLTE.min.css}"/>
	<!-- AdminLTE Skins. Choose a skin from the css/skins
		 folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="../../static/lib/dist/css/skins/skin-blue.min.css"
	      th:href="@{~/lib/dist/css/skins/skin-blue.min.css}"/>
	<!-- DataTables -->
	<link rel="stylesheet" href="../../static/lib/plugins/datatables/Responsive-2.2.2/css/responsive.bootstrap4.min.css"
	      th:href="@{~/lib/plugins/datatables/Responsive-2.2.2/css/responsive.bootstrap4.min.css}"/>
	<link rel="stylesheet" href="../../static/lib/plugins/datatables/DataTables-1.10.18/css/dataTables.bootstrap4.min.css"
	      th:href="@{~/lib/plugins/datatables/DataTables-1.10.18/css/dataTables.bootstrap4.min.css}"/>
	<!-- Fixed Column extension for DataTables to support RTL -->
	<script src="../../static/lib/plugins/datatables/FixedColumns-3.2.4/css/fixedColumns.bootstrap4.min.css"
	        th:src="@{~/lib/plugins/datatables/FixedColumns-3.2.4/js/fixedColumns.bootstrap4.min.css}"></script>
	<!-- DataTables tools column -->
	<link rel="stylesheet" href="../../static/lib/dist/css/common-styles.css"
	      th:href="@{~/lib/dist/css/common-styles.css}"/>
	
	<link rel="stylesheet" href="../lib/dist/css/certificates-custom.css"
	      th:href="@{/lib/dist/css/certificates-custom.css}"/>

	<link rel="stylesheet" href="../../static/lib/dist/css/bootstrap-rtl.min.css"
	      th:href="@{~/lib/dist/css/bootstrap-rtl.min.css}">
	
	
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>

<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">
	<!-- include header section from the layout file -->
	<header class="main-header">
		<div th:include="layout/header :: header"></div>
	</header>

	<!-- Left side column. contains the logo and sidebar -->
	<!-- include sidebar nav section from the layout file -->
	<aside class="main-sidebar">
		<section class="sidebar">
			<div th:include="layout/sidebarnav :: sidebarnav"></div>
		</section>
	</aside>

	<!-- Content Wrapper. Contains page content -->
	<div class="content-wrapper">
		<!-- Content Header (Page header) -->
		<section class="content-header">
			<h1>
				<span th:text="#{certificates.title}">Dashboard</span>
				<small th:text="#{common.breadcrumb.control_panel}">Control panel</small>
			</h1>
			<ol class="breadcrumb">
				<li><a href="#"><i class="fa fa-dashboard"></i> <span th:text="#{common.breadcrumb.home}"> Home</span></a></li>
				<li class="active" th:text="#{common.breadcrumb.certificates}">Certificates</li>
			</ol>
		</section>

		<!-- Main content -->
		<section class="content">

			<div class="box box-primary">
				<!-- box header -->
				<div class="box-header">

					<div class="col-sm-6">
						<h2 class="box-title" th:text="#{certificates.box.title}">Halaka Certificates List</h2>
					</div>

					<br/>
					<!-- Error message -->
					<div th:if="${message}">
						<div><br/></div>
						<div class="col-sm-12">
							<div class="alert alert-success alert-dismissible">
								<button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
								<h4><i class="icon fa fa-check"></i> Alert!</h4>
								<span th:text="${message}">Success alert preview. This alert is dismissable.</span>
							</div>
						</div>
					</div>
					<!-- End of Error message -->

				</div>
				<!-- /.box-header -->

				<!-- box body -->
				<div class="box-body">
					<div class="col-sm-12">
						<table id="certificates_dt"
						       class="table table-bordered table-striped dataTable dt-responsive nowrap"
						       role="grid" style="width: 100%;"
						       aria-describedby="certificates_dt_info">

							<!-- Header of the table -->
							<thead>
								<tr role="row">
									<th class="sorting_asc" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-sort="ascending"
									    aria-label="ID: activate to sort column descending"
									    style="width: 130.4px;" th:text="#{certificates.table.id}">ID
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Name: activate to sort column ascending"
									    style="width: 266.4px;" th:text="#{certificates.table.name}">Name
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Activity: activate to sort column ascending"
									    style="width: 237.4px;" th:text="#{certificates.table.activity}">Activity
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Student: activate to sort column ascending"
									    style="width: 186.4px;" th:text="#{certificates.table.student}">Student
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Teacher: activate to sort column ascending"
									    style="width: 135.2px;" th:text="#{certificates.table.teacher}">Teacher
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Date: activate to sort column ascending"
									    style="width: 266.2px;" th:text="#{certificates.table.date}">Date
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Photo: activate to sort column ascending"
									    style="width: 135.2px;" th:text="#{certificates.table.photo}">Photo
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="Comments: activate to sort column ascending"
									    style="width: 266px;" th:text="#{certificates.table.comments}">Comments
									</th>
									<th class="sorting" tabindex="0" aria-controls="certificates_dt" rowspan="1"
									    colspan="1" aria-label="CSS grade: activate to sort column ascending"
									    style="width: 266.2px;" th:text="#{certificates.table.tools}">Tools
									</th>
								</tr>
							</thead>
							<!-- End of header -->

							<!-- Body of the table -->
							<tbody th:remove="all-but-first">
								<tr rol="row" th:each="cert : ${certificates}"
								    th:class="${certStat.odd}? 'odd' : 'even'">
									<td class="sorting_1" th:text="${cert.id}">ID</td>
									<td><a href="#" th:href="@{'/admin/certificates/certificate/' + ${cert.id}}">
										<span th:text="${cert.name}">Name</span></a></td>
									<td><a href="#"
									       th:href="@{'/admin/activities/activity/' + ${cert.studentTrack.course.activity.id}}">
                                            <span th:text="${cert.studentTrack.course.activity.name}">Activity
                                                Name</span> </a></td>
									<td><a href="#"
									       th:href="@{'/admin/students/student/' + ${cert.studentTrack.student.id}}"><span
											th:text="${cert.studentTrack.student.name}">Student Name</span></a></td>
									<td><a href="#"
									       th:href="@{'/admin/teachers/teacher/' + ${cert.studentTrack.course.teacher.id}}"><span
											th:text="${cert.studentTrack.course.teacher.name}">Teacher
                                            Name</span></a></td>
									<td><a href="#"
									       th:href="@{'/admin/events/event/' + ${cert.event.id}}"><span
											th:text="${cert.event.eventDate}">Event Date</span></a></td>
									<td><img class="cert-img" src="../../lib/dist/img/certificate/photo1.png"
									         th:src="@{${cert.imageUrl}}"
									         alt="certificate image"></td>
									<td th:id="'tdComments_' + ${cert.id}" th:text="${cert.comments}">Cert Comments</td>
									<td>
										<ul class="dtt">
											<li>
												<div class="tools">
													<a href="#"
													   th:href="@{'/admin/certificates/certificate/' + ${cert.id}}"><i
															class="fa fa-edit fa-3x"></i></a>
													<a href="#"
													   th:href="@{'/admin/certificates/certificate/' + ${cert.id} + '/delete'}"><i
															class="fa fa-trash-o fa-3x"></i></a>
												</div>
											</li>
										</ul>
									</td>
								</tr>
								<tr role="row" class="odd">
									<td class="sorting_1">Gecko</td>
									<td>Firefox 1.0</td>
									<td>Win 98+ / OSX.2+</td>
									<td>1.7</td>
									<td>A</td>
								</tr>
								<tr role="row" class="even">
									<td class="sorting_1">Gecko</td>
									<td>Firefox 1.5</td>
									<td>Win 98+ / OSX.2+</td>
									<td>1.8</td>
									<td>A</td>
								</tr>
								<tr role="row" class="odd">
									<td class="sorting_1">Gecko</td>
									<td>Firefox 2.0</td>
									<td>Win 98+ / OSX.2+</td>
									<td>1.8</td>
									<td>A</td>
								</tr>
								<tr role="row" class="even">
									<td class="sorting_1">Gecko</td>
									<td>Firefox 3.0</td>
									<td>Win 2k+ / OSX.3+</td>
									<td>1.9</td>
									<td>A</td>
								</tr>
								<tr role="row" class="odd">
									<td class="sorting_1">Gecko</td>
									<td>Camino 1.0</td>
									<td>OSX.2+</td>
									<td>1.8</td>
									<td>A</td>
								</tr>
								<tr role="row" class="even">
									<td class="sorting_1">Gecko</td>
									<td>Camino 1.5</td>
									<td>OSX.3+</td>
									<td>1.8</td>
									<td>A</td>
								</tr>
								<tr role="row" class="odd">
									<td class="sorting_1">Gecko</td>
									<td>Netscape 7.2</td>
									<td>Win 95+ / Mac OS 8.6-9.2</td>
									<td>1.7</td>
									<td>A</td>
								</tr>
								<tr role="row" class="even">
									<td class="sorting_1">Gecko</td>
									<td>Netscape Browser 8</td>
									<td>Win 98SE+</td>
									<td>1.7</td>
									<td>A</td>
								</tr>
								<tr role="row" class="odd">
									<td class="sorting_1">Gecko</td>
									<td>Netscape Navigator 9</td>
									<td>Win 98+ / OSX.2+</td>
									<td>1.8</td>
									<td>A</td>
								</tr>
								<tr role="row" class="even">
									<td class="sorting_1">Gecko</td>
									<td>Mozilla 1.0</td>
									<td>Win 95+ / OSX.1+</td>
									<td>1</td>
									<td>A</td>
								</tr>
							</tbody>
							<!-- End of body -->

							<!-- Footer of the table -->
							<tfoot>
								<tr>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.id}">ID</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.name}">Name</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.activity}">Activity</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.student}">Student</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.teacher}">Teacher</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.date}">Date</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.photo}">Photo</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.comments}">Comments</th>
									<th rowspan="1" colspan="1" th:text="#{certificates.table.tools}">Tools</th>
								</tr>
							</tfoot>
							<!-- End of footer -->

						</table>
					</div>
				</div>
				<!-- /.box-body -->
			</div>

		</section>
		<!-- /.content -->
	</div>
	<!-- /.content-wrapper -->

	<!-- include footer section from the layout file -->
	<div th:include="layout/footer :: footer"></div>

	<!-- Control Sidebar -->
	<aside class="control-sidebar control-sidebar-dark">
		<!-- Create the tabs -->
		<ul class="nav nav-tabs nav-justified control-sidebar-tabs">
			<li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
			<li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
		</ul>
		<!-- Tab panes -->
		<div class="tab-content">
			<!-- Home tab content -->
			<div class="tab-pane" id="control-sidebar-home-tab">
				<h3 class="control-sidebar-heading">Recent Activity</h3>
				<ul class="control-sidebar-menu">
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-birthday-cake bg-red"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

								<p>Will be 23 on April 24th</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-user bg-yellow"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

								<p>New phone +1(800)555-1234</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

								<p>nora@example.com</p>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<i class="menu-icon fa fa-file-code-o bg-green"></i>

							<div class="menu-info">
								<h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

								<p>Execution time 5 seconds</p>
							</div>
						</a>
					</li>
				</ul>
				<!-- /.control-sidebar-menu -->

				<h3 class="control-sidebar-heading">Tasks Progress</h3>
				<ul class="control-sidebar-menu">
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Custom Template Design
								<span class="label label-danger pull-right">70%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-danger" style="width: 70%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Update Resume
								<span class="label label-success pull-right">95%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-success" style="width: 95%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Laravel Integration
								<span class="label label-warning pull-right">50%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-warning" style="width: 50%"></div>
							</div>
						</a>
					</li>
					<li>
						<a href="javascript:void(0)">
							<h4 class="control-sidebar-subheading">
								Back End Framework
								<span class="label label-primary pull-right">68%</span>
							</h4>

							<div class="progress progress-xxs">
								<div class="progress-bar progress-bar-primary" style="width: 68%"></div>
							</div>
						</a>
					</li>
				</ul>
				<!-- /.control-sidebar-menu -->

			</div>
			<!-- /.tab-pane -->
			<!-- Stats tab content -->
			<div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
			<!-- /.tab-pane -->
			<!-- Settings tab content -->
			<div class="tab-pane" id="control-sidebar-settings-tab">
				<form method="post">
					<h3 class="control-sidebar-heading">General Settings</h3>

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Report panel usage
							<input type="checkbox" class="pull-right" checked="checked"/>
						</label>

						<p>
							Some information about this general settings option
						</p>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Allow mail redirect
							<input type="checkbox" class="pull-right" checked="checked"/>
						</label>

						<p>
							Other sets of options are available
						</p>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Expose author name in posts
							<input type="checkbox" class="pull-right" checked="checked"/>
						</label>

						<p>
							Allow the user to show his name in blog posts
						</p>
					</div>
					<!-- /.form-group -->

					<h3 class="control-sidebar-heading">Chat Settings</h3>

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Show me as online
							<input type="checkbox" class="pull-right" checked="checked"/>
						</label>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Turn off notifications
							<input type="checkbox" class="pull-right"/>
						</label>
					</div>
					<!-- /.form-group -->

					<div class="form-group">
						<label class="control-sidebar-subheading">
							Delete chat history
							<a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
						</label>
					</div>
					<!-- /.form-group -->
				</form>
			</div>
			<!-- /.tab-pane -->
		</div>
	</aside>
	<!-- /.control-sidebar -->

	<!-- Add the sidebar's background. This div must be placed
		 immediately after the control sidebar -->
	<div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->
<!-- to send data from db to javascript code -->
<script th:inline="javascript">
    var certificates = [[${certificates}]];
</script>
<!-- jQuery 3.3.1 -->
<script src="../lib/plugins/jquery/dist/jquery.min.js"
        th:src="@{~/lib/plugins/jquery/dist/jquery.min.js}"></script>
<!-- Bootstrap 3.3.7 -->
<script src="../lib/bootstrap/js/bootstrap.min.js" th:src="@{~/lib/bootstrap/js/bootstrap.min.js}"></script>

<!-- DataTables -->
<script src="../../lib/plugins/datatables/DataTables-1.10.18/js/juery.dataTables.min.js"
        th:src="@{~/lib/plugins/datatables/DataTables-1.10.18/js/jquery.dataTables.min.js}"></script>
<script src="../../lib/plugins/datatables/DataTables-1.10.18/js/dataTables.bootstrap.min.js"
        th:src="@{~/lib/plugins/datatables/DataTables-1.10.18/js/dataTables.bootstrap.min.js}"></script>
<!-- Responsive extension for DataTables -->
<script src="../../lib/plugins/datatables/Responsive-2.2.2/js/dataTables.responsive.min.js"
        th:src="@{~/lib/plugins/datatables/Responsive-2.2.2/js/dataTables.responsive.min.js}"></script>

<!-- FastClick -->
<script src="../../lib/plugins/fastclick/fastclick.js"
        th:src="@{~/lib/plugins/fastclick/fastclick.js}"></script>
<!-- AdminLTE App -->
<script src="../../lib/dist/js/adminlte.min.js" th:src="@{~/lib/dist/js/adminlte.min.js}"></script>
<!-- Utils to format comments cells -->
<script src="../../static/lib/dist/js/utils.js" th:src="@{~/lib/dist/js/utils.js}"></script>

<script>
    $(function () {
        $("#certificates_dt").DataTable({
            "language":{
                "sProcessing":   "جارٍ التحميل...",
                "sLengthMenu":   "أظهر _MENU_ مدخلات",
                "sZeroRecords":  "لم يعثر على أية سجلات",
                "sInfo":         "إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل",
                "sInfoEmpty":    "يعرض 0 إلى 0 من أصل 0 سجل",
                "sInfoFiltered": "(منتقاة من مجموع _MAX_ مُدخل)",
                "sInfoPostFix":  "",
                "sSearch":       "ابحث:",
                "sUrl":          "",
                "oPaginate": {
                    "sFirst":    "الأول",
                    "sPrevious": "السابق",
                    "sNext":     "التالي",
                    "sLast":     "الأخير"
                }
            },
            fixedColumns:   true
        })
            .columns.adjust()
            .responsive.recalc();
        
        formatCommentsCell(certificates, "#certificates_dt");

        // images click event
        $('.box-body').click(function (e) {
            if (e.target.className === 'cert-img') {
                var $newDiv = $('<div>');
                $newDiv.addClass('full-cert-img');
                $newDiv.html('<i id="close-img" class="fa fa-times" aria-hidden="true"></i><img src="' + e.target.src + '">');
                $('body').append($newDiv);
                $('#close-img').click(function () {
                    $newDiv.fadeOut(400, function () {
                        $(this).remove();
                    });
                });
            }
        });
    });
</script>
</body>

</html>
